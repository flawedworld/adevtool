platform:
  sepolicy_dirs:
    - device/google/redbull-sepolicy

includes:
  - pixel.yml

filters:
  dep_files:
    match:
      # Required by libOmxSwVencMpeg4
      - vendor/lib/libMpeg4SwEncoder.so
      - vendor/lib64/libMpeg4SwEncoder.so

      # Required by vendor.qti.hardware.display.composer-service
      - vendor/lib64/libthermalclient.so

      # Required by chre
      - vendor/lib/libadsprpc.so
      - vendor/lib64/libadsprpc.so

      # Required by libOmxVenc
      - vendor/lib/libfastcvopt.so
      - vendor/lib64/libfastcvopt.so

      # Needed to pass checkvintf
      - vendor/etc/vintf/manifest/android.hardware.graphics.mapper-impl-qti-display.xml
      - vendor/etc/vintf/manifest/c2_manifest_vendor.xml
      - vendor/etc/vintf/manifest/pixel-display-default.xml
      - vendor/etc/vintf/manifest/vendor.qti.hardware.display.allocator-service.xml
      - vendor/etc/vintf/manifest/vendor.qti.hardware.display.composer-service.xml

  overlay_files:
    match:
      # Workaround for aapt2 output parsing bug
      - HbmSVManager__auto_generated_rro_vendor.apk
  files:
    match:
      - product/etc/permissions/com.android.sdm.plugins.connmo.xml
      - product/etc/permissions/com.android.sdm.plugins.dcmo.xml
      - product/etc/permissions/com.android.sdm.plugins.diagmon.xml
      - product/etc/permissions/privapp-permissions-google-p.xml
      - product/etc/sysconfig/google.xml
      - product/etc/sysconfig/nexus.xml
      - product/etc/sysconfig/pixel_experience_2017.xml
      - product/etc/sysconfig/pixel_experience_2018.xml
      - product/etc/sysconfig/pixel_experience_2019_midyear.xml
      - product/etc/sysconfig/pixel_experience_2019.xml
      - product/etc/sysconfig/pixel_experience_2020_midyear.xml
      - product/etc/sysconfig/pixel_experience_2020.xml
      - system_ext/etc/permissions/embms-noship_product_privapp_permissions_qti.xml
      - system_ext/etc/permissions/privapp-permissions-google-se.xml
